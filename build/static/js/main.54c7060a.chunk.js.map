{"version":3,"sources":["components/Person.js","components/PersonContainer.js","components/SearchBar.js","components/PersonForm.js","APICalls.js","components/Notification.js","App.js","index.js"],"names":["Person","props","divContentStyling","display","marginLeft","style","marginBottom","person","name","number","onClick","deletePerson","id","ContainerPerson","personListing","i","persons","length","push","key","searchString","filteredPersons","toLowerCase","includes","filterNames","SearchBar","value","onChange","handleSearchChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","populatePersonListState","setPersons","showNotification","axios","get","then","response","data","catch","error","newPerson","post","concatedPerson","addedPersons","concat","delete","status","updateNumber","foundPerson","put","newPersonList","Notification","notificationType","color","background","fontSize","borderStyle","borderRadius","padding","notificationMessage","App","useState","setNewName","setNewNumber","search","setSearch","setNotificationMessage","setNotificationType","message","setTimeout","useEffect","APICalls","event","target","foundPersons","preventDefault","filter","element","window","confirm","splice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.54c7060a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function Person(props) {\r\n    const divContentStyling = {\r\n        display: 'inline',\r\n        marginLeft: '1em'\r\n    }\r\n\r\n    const divStyling = {\r\n        marginBottom: '1em'\r\n    }\r\n\r\n    return (\r\n        <div style={divStyling}>\r\n            <p style={divContentStyling}>{props.person.name} {props.person.number}</p>\r\n            <button style={divContentStyling} onClick={()=> props.deletePerson(props.person.id, props.person.name)}>delete</button>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport Person from './Person';\r\n\r\nfunction filterNames(personListing, searchString) {\r\n    const filteredPersons= [];\r\n    searchString = searchString.toLowerCase();\r\n    for(let i=0; i<personListing.length; i++) {\r\n        let personName = personListing[i].props.person.name;\r\n        if (personName.toLowerCase().includes(searchString)) {\r\n            filteredPersons.push(personListing[i]);\r\n        }\r\n    }\r\n\r\n    return filteredPersons;\r\n}\r\n\r\nexport default function ContainerPerson(props) {\r\n    let personListing = [];\r\n    for(let i=0; i<props.persons.length; i++) {\r\n        personListing.push(<Person key={props.persons[i].name} person={props.persons[i]} deletePerson={props.deletePerson}/>);\r\n    }\r\n\r\n    personListing = filterNames(personListing, props.searchString);\r\n\r\n    return(\r\n        <div>\r\n            {personListing}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function SearchBar(props) {\r\n    return (\r\n        <div>\r\n        search: <input value={props.value} onChange={props.handleSearchChange}/>\r\n      </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function PersonForm(props) {\r\n    return(\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n                name: <input value={props.newName} onChange={props.handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}","import axios from 'axios';\r\nconst baseUrl = 'http://localhost:3001';\r\n\r\nfunction populatePersonListState(setPersons, showNotification) {\r\n    const data = axios.get(`${baseUrl}/api/persons`)\r\n        .then(response => setPersons(response.data))\r\n        .catch(error => {\r\n            showNotification(`Fetching person listing failed for some reason.`, 'error');\r\n        });\r\n}\r\n\r\nfunction newPerson(newPerson, persons, setPersons, showNotification) {\r\n    const savedPerson = axios.post(`${baseUrl}/api/persons`, newPerson)\r\n        .then(response => {\r\n            const concatedPerson = [];\r\n            concatedPerson.push(newPerson);\r\n            const addedPersons = persons.concat(concatedPerson);\r\n            setPersons(addedPersons);\r\n            showNotification(`${newPerson.name} was added to the number list`, 'passing');\r\n\r\n            return response.data;\r\n        })\r\n        .catch(error => {\r\n            showNotification(`Adding ${newPerson.name} to the system caused a problem with message ${error}`, 'error');\r\n        });\r\n\r\n    return savedPerson;\r\n}\r\n\r\nfunction deletePerson(id, name, showNotification) {\r\n    const data = axios.delete(`${baseUrl}/api/persons/${id}`)\r\n        .then(response => {\r\n            showNotification(`${name} was removed from the number list`, 'passing');\r\n            return response.data\r\n        })\r\n        .catch(error => {\r\n            if (error.response.status === 404){\r\n                showNotification(`Deleting ${name} from the list caused an error.`, 'error');\r\n            }\r\n        });\r\n\r\n        return data;\r\n}\r\n\r\nfunction updateNumber(foundPerson, persons, setPersons, showNotification) {\r\n    const data = axios.put(`${baseUrl}/${foundPerson.id}`, foundPerson)\r\n        .then(response => {\r\n            const concatedPerson = [];\r\n            concatedPerson.push(foundPerson);\r\n            const newPersonList = persons.concat(concatedPerson);\r\n            setPersons(newPersonList);\r\n            showNotification(`${foundPerson.name} number was updated`, 'passing');\r\n\r\n            return response.data\r\n        })\r\n        .catch(error => {\r\n            if (error.response.status === 404){\r\n                showNotification(`${foundPerson.name} has already been removed from the list`, 'error');\r\n            }\r\n        });\r\n\r\n        return data;\r\n}\r\n\r\nexport default {\r\n    populatePersonListState: populatePersonListState,\r\n    newPerson: newPerson,\r\n    deletePerson: deletePerson,\r\n    updateNumber: updateNumber\r\n};\r\n\r\n","import React from 'react';\r\n\r\nfunction showNotification(notificationType) {\r\n    const passingNotification = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }\r\n\r\n    const errorNotification = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }\r\n\r\n    if (notificationType === 'passing') {\r\n        return passingNotification;\r\n    }\r\n\r\n    if (notificationType === 'error') {\r\n        return errorNotification;\r\n    }\r\n\r\n    return {};\r\n}\r\n\r\nexport default function Notification(props) {\r\n    return (\r\n        <div style={showNotification(props.notificationType)}>\r\n            {props.notificationMessage}\r\n        </div>\r\n    );\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\nimport PersonContainer from './components/PersonContainer';\r\nimport SearchBar from './components/SearchBar';\r\nimport PersonForm from './components/PersonForm';\r\nimport APICalls from './APICalls';\r\nimport Notification from './components/Notification';\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]);\r\n  const [ newName, setNewName ] = useState('');\r\n  const [ newNumber, setNewNumber ] = useState('');\r\n  const [ search, setSearch ] = useState('');\r\n  const [notificationMessage, setNotificationMessage] = useState('');\r\n  const [notificationType, setNotificationType] = useState('');\r\n\r\n  useEffect(() => {\r\n    APICalls.populatePersonListState(setPersons, showNotification);\r\n  }, [])\r\n\r\n  function addPerson(event) {\r\n    event.preventDefault();\r\n\r\n    let foundPersons = [];\r\n    foundPersons = persons.filter(element => {\r\n      if (element.name === newName) {\r\n        return newName;\r\n      }\r\n    });\r\n    \r\n    if (foundPersons.length === 0) {\r\n      const person = {name: newName, number: newNumber};\r\n      APICalls.newPerson(person, persons, setPersons, showNotification);\r\n\r\n    } else {\r\n      const doChange = window.confirm(`${newName} is already added to phonebook, do you want to replace the old number with a new one?`);\r\n      if (doChange) {\r\n        const foundPerson = {\r\n          ...foundPersons[0],\r\n          number: newNumber\r\n        }\r\n\r\n        const newPersonList =[...persons];\r\n        for (let i=0; i<newPersonList.length; i++) {\r\n          if (newPersonList[i].name === newName) {\r\n            newPersonList.splice(i, 1);\r\n          }\r\n        }\r\n\r\n        APICalls.updateNumber(foundPerson, newPersonList, setPersons, showNotification);\r\n      }\r\n    }\r\n  }\r\n\r\n  function deletePerson(id, name) {\r\n    const doDelete = window.confirm(`Do you want to remove ${name}?`);\r\n\r\n    if (doDelete) {\r\n      APICalls.deletePerson(id, name, showNotification);\r\n      \r\n\r\n      const newPersonList = [...persons];\r\n      for (let i=0; i<newPersonList.length; i++) {\r\n        if (newPersonList[i].id === id) {\r\n          newPersonList.splice(i, 1);\r\n          setPersons(newPersonList);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function showNotification(message, type) {\r\n    setNotificationMessage(message);\r\n    setNotificationType(type);\r\n\r\n    setTimeout(()=> { \r\n      setNotificationType(''); \r\n      setNotificationMessage('');\r\n    }, 5000);\r\n  }\r\n\r\n  // HANDLERS\r\n  function handleNameChange(event) {\r\n    setNewName(event.target.value);\r\n  }\r\n\r\n  function handleNumberChange(event) {\r\n    setNewNumber(event.target.value);\r\n  }\r\n\r\n  function handleSearchChange(event) {\r\n    setSearch(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notificationType={notificationType} notificationMessage={notificationMessage}/>\r\n      <SearchBar value={search} handleSearchChange={handleSearchChange}/>\r\n      <h2>Add a new</h2>\r\n      <PersonForm \r\n        handleNameChange={handleNameChange} \r\n        handleNumberChange={handleNumberChange} \r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        addPerson={addPerson}\r\n        />\r\n      <h2>Numbers</h2>\r\n        <PersonContainer persons={persons} searchString={search} deletePerson={deletePerson}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}