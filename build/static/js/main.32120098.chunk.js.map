{"version":3,"sources":["components/Person.js","components/PersonContainer.js","components/SearchBar.js","components/PersonForm.js","APICalls.js","components/Notification.js","App.js","index.js"],"names":["Person","props","divContentStyling","display","marginLeft","style","marginBottom","person","name","number","onClick","deletePerson","id","ContainerPerson","personListing","i","persons","length","push","key","searchString","filteredPersons","toLowerCase","personName","undefined","includes","filterNames","SearchBar","value","onChange","handleSearchChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","populatePersonListState","setPersons","showNotification","axios","get","then","response","data","catch","error","newPerson","post","concatedPerson","addedPersons","concat","message","delete","updateNumber","foundPerson","put","newPersonList","status","Notification","notificationType","color","background","fontSize","borderStyle","borderRadius","padding","notificationMessage","App","useState","setNewName","setNewNumber","search","setSearch","setNotificationMessage","setNotificationType","setTimeout","useEffect","APICalls","event","target","foundPersons","preventDefault","filter","element","window","confirm","splice","ReactDOM","render","document","getElementById"],"mappings":"0PAEe,SAASA,EAAOC,GAC3B,IAAMC,EAAoB,CACtBC,QAAS,SACTC,WAAY,OAOhB,OACI,yBAAKC,MALU,CACfC,aAAc,QAKV,uBAAGD,MAAOH,GAAoBD,EAAMM,OAAOC,KAA3C,IAAkDP,EAAMM,OAAOE,QAC/D,4BAAQJ,MAAOH,EAAmBQ,QAAS,kBAAKT,EAAMU,aAAaV,EAAMM,OAAOK,GAAIX,EAAMM,OAAOC,QAAjG,WCKG,SAASK,EAAgBZ,GAEpC,IADA,IAAIa,EAAgB,GACZC,EAAE,EAAGA,EAAEd,EAAMe,QAAQC,OAAQF,IACjCD,EAAcI,KAAK,kBAAClB,EAAD,CAAQmB,IAAKlB,EAAMe,QAAQD,GAAGP,KAAMD,OAAQN,EAAMe,QAAQD,GAAIJ,aAAcV,EAAMU,gBAKzG,OAFAG,EAvBJ,SAAqBA,EAAeM,GAChC,IAAMC,EAAiB,GACvBD,EAAeA,EAAaE,cAC5B,IAAI,IAAIP,EAAE,EAAGA,EAAED,EAAcG,OAAQF,IAAK,CACtC,IAAIQ,EAAaT,EAAcC,GAAGd,MAAMM,OAAOC,UAC5BgB,IAAfD,IAIAA,EAAWD,cAAcG,SAASL,IAClCC,EAAgBH,KAAKJ,EAAcC,KAI3C,OAAOM,EASSK,CAAYZ,EAAeb,EAAMmB,cAG7C,6BACKN,GC5BE,SAASa,EAAU1B,GAC9B,OACI,wCACQ,2BAAO2B,MAAO3B,EAAM2B,MAAOC,SAAU5B,EAAM6B,sBCH5C,SAASC,EAAW9B,GAC/B,OACI,0BAAM+B,SAAU/B,EAAMgC,WAClB,sCACU,2BAAOL,MAAO3B,EAAMiC,QAASL,SAAU5B,EAAMkC,oBAEvD,wCACY,2BAAOP,MAAO3B,EAAMmC,UAAWP,SAAU5B,EAAMoC,sBAE3D,6BACI,4BAAQC,KAAK,UAAb,S,oBCkDD,OACXC,wBA7DJ,SAAiCC,EAAYC,GAC5BC,IAAMC,IAAN,gBACRC,MAAK,SAAAC,GACFL,EAAWK,EAASC,SACvBC,OAAM,SAAAC,GACHP,EAAiB,kDAAmD,aAyD5EQ,UArDJ,SAAmBA,EAAWjC,EAASwB,EAAYC,GAe/C,OAdoBC,IAAMQ,KAAN,eAA2BD,GAC1CL,MAAK,SAAAC,GACF,IAAMM,EAAiB,GACvBA,EAAejC,KAAK2B,EAASC,MAC7B,IAAMM,EAAepC,EAAQqC,OAAOF,GAIpC,OAHAX,EAAWY,GACXX,EAAiB,GAAD,OAAIQ,EAAUzC,KAAd,iCAAmD,WAE5DqC,EAASC,QAEnBC,OAAM,SAAAC,GACHP,EAAiBO,EAAMH,SAASC,KAAKQ,QAAS,aA0CtD3C,aApCJ,SAAsBC,EAAIJ,EAAMiC,GAUxB,OATSC,IAAMa,OAAN,uBAA6B3C,IACrCgC,MAAK,SAAAC,GAEF,OADAJ,EAAiB,GAAD,OAAIjC,EAAJ,qCAA6C,WACtDqC,EAASC,QAEnBC,OAAM,SAAAC,GACHP,EAAiBO,EAAMH,SAASC,KAAKQ,QAAS,aA8BtDE,aAxBJ,SAAsBC,EAAazC,EAASwB,EAAYC,GAiBhD,OAhBSC,IAAMgB,IAAN,WAAcD,EAAY7C,IAAM6C,GACxCb,MAAK,SAAAC,GACF,IAAMM,EAAiB,GACvBA,EAAejC,KAAKuC,GACpB,IAAME,EAAgB3C,EAAQqC,OAAOF,GAIrC,OAHAX,EAAWmB,GACXlB,EAAiB,GAAD,OAAIgB,EAAYjD,KAAhB,uBAA2C,WAEpDqC,EAASC,QAEnBC,OAAM,SAAAC,GAC2B,MAA1BA,EAAMH,SAASe,QACfnB,EAAiB,GAAD,OAAIgB,EAAYjD,KAAhB,2CAA+D,cCrBhF,SAASqD,EAAa5D,GACjC,OACI,yBAAKI,OAlCayD,EAkCW7D,EAAM6D,iBAbd,YAArBA,EApBwB,CACxBC,MAAO,QACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACT9D,aAAc,QAiBO,UAArBwD,EAdsB,CACtBC,MAAO,MACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACT9D,aAAc,QAWX,KAMEL,EAAMoE,qBAnCnB,IAA0BP,E,8NCM1B,IAyGeQ,EAzGH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACRvD,EADQ,KACCwB,EADD,OAEgB+B,mBAAS,IAFzB,mBAERrC,EAFQ,KAECsC,EAFD,OAGoBD,mBAAS,IAH7B,mBAGRnC,EAHQ,KAGGqC,EAHH,OAIcF,mBAAS,IAJvB,mBAIRG,EAJQ,KAIAC,EAJA,OAKsCJ,mBAAS,IAL/C,mBAKTF,EALS,KAKYO,EALZ,OAMgCL,mBAAS,IANzC,mBAMTT,EANS,KAMSe,EANT,KA8DhB,SAASpC,EAAiBa,EAAShB,GACjCsC,EAAuBtB,GACvBuB,EAAoBvC,GAEpBwC,YAAW,WACTD,EAAoB,IACpBD,EAAuB,MACtB,KAgBL,OA7EAG,qBAAU,WACRC,EAASzC,wBAAwBC,EAAYC,KAC5C,IA4ED,6BACE,yCACA,kBAACoB,EAAD,CAAcC,iBAAkBA,EAAkBO,oBAAqBA,IACvE,kBAAC1C,EAAD,CAAWC,MAAO8C,EAAQ5C,mBAR9B,SAA4BmD,GAC1BN,EAAUM,EAAMC,OAAOtD,UAQrB,yCACA,kBAACG,EAAD,CACEI,iBAnBN,SAA0B8C,GACxBT,EAAWS,EAAMC,OAAOtD,QAmBpBS,mBAhBN,SAA4B4C,GAC1BR,EAAaQ,EAAMC,OAAOtD,QAgBtBM,QAASA,EACTE,UAAWA,EACXH,UApFN,SAAmBgD,GAGjB,IAAIE,EAOJ,GATAF,EAAMG,iBASsB,KAN5BD,EAAenE,EAAQqE,QAAO,SAAAC,GAC5B,GAAIA,EAAQ9E,OAAS0B,EACnB,OAAOA,MAIMjB,OACf,KAAMV,EAAS,CAACC,KAAM0B,EAASzB,OAAQ2B,GACnB4C,EAAS/B,UAAU1C,EAAQS,EAASwB,EAAYC,QAGpE,GADiB8C,OAAOC,QAAP,UAAkBtD,EAAlB,0FACH,CAOZ,IANA,IAAMuB,E,yVAAW,IACZ0B,EAAa,GADD,CAEf1E,OAAQ2B,IAGJuB,EAAa,YAAM3C,GAChBD,EAAE,EAAGA,EAAE4C,EAAc1C,OAAQF,IAChC4C,EAAc5C,GAAGP,OAAS0B,GAC5ByB,EAAc8B,OAAO1E,EAAG,GAI5BiE,EAASxB,aAAaC,EAAaE,EAAenB,EAAYC,OA0DhE,uCACE,kBAAC,EAAD,CAAiBzB,QAASA,EAASI,aAAcsD,EAAQ/D,aAtD/D,SAAsBC,EAAIJ,GAGxB,GAFiB+E,OAAOC,QAAP,gCAAwChF,EAAxC,MAEH,CACZwE,EAASrE,aAAaC,EAAIJ,EAAMiC,GAIhC,IADA,IAAMkB,EAAa,YAAO3C,GACjBD,EAAE,EAAGA,EAAE4C,EAAc1C,OAAQF,IAChC4C,EAAc5C,GAAGH,KAAOA,IAC1B+C,EAAc8B,OAAO1E,EAAG,GACxByB,EAAWmB,UC3DrB+B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.32120098.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function Person(props) {\r\n    const divContentStyling = {\r\n        display: 'inline',\r\n        marginLeft: '1em'\r\n    }\r\n\r\n    const divStyling = {\r\n        marginBottom: '1em'\r\n    }\r\n\r\n    return (\r\n        <div style={divStyling}>\r\n            <p style={divContentStyling}>{props.person.name} {props.person.number}</p>\r\n            <button style={divContentStyling} onClick={()=> props.deletePerson(props.person.id, props.person.name)}>delete</button>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport Person from './Person';\r\n\r\nfunction filterNames(personListing, searchString) {\r\n    const filteredPersons= [];\r\n    searchString = searchString.toLowerCase();\r\n    for(let i=0; i<personListing.length; i++) {\r\n        let personName = personListing[i].props.person.name;\r\n        if (personName === undefined) {\r\n            continue;\r\n        }\r\n\r\n        if (personName.toLowerCase().includes(searchString)) {\r\n            filteredPersons.push(personListing[i]);\r\n        }\r\n    }\r\n\r\n    return filteredPersons;\r\n}\r\n\r\nexport default function ContainerPerson(props) {\r\n    let personListing = [];\r\n    for(let i=0; i<props.persons.length; i++) {\r\n        personListing.push(<Person key={props.persons[i].name} person={props.persons[i]} deletePerson={props.deletePerson}/>);\r\n    }\r\n\r\n    personListing = filterNames(personListing, props.searchString);\r\n\r\n    return(\r\n        <div>\r\n            {personListing}\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function SearchBar(props) {\r\n    return (\r\n        <div>\r\n        search: <input value={props.value} onChange={props.handleSearchChange}/>\r\n      </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function PersonForm(props) {\r\n    return(\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n                name: <input value={props.newName} onChange={props.handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}","import axios from 'axios';\r\n\r\nfunction populatePersonListState(setPersons, showNotification) {\r\n    const data = axios.get(`/api/persons`)\r\n        .then(response => {\r\n            setPersons(response.data)})\r\n        .catch(error => {\r\n            showNotification(`Fetching person listing failed for some reason.`, 'error');\r\n        });\r\n}\r\n\r\nfunction newPerson(newPerson, persons, setPersons, showNotification) {\r\n    const savedPerson = axios.post(`/api/persons`, newPerson)\r\n        .then(response => {\r\n            const concatedPerson = [];\r\n            concatedPerson.push(response.data);\r\n            const addedPersons = persons.concat(concatedPerson);\r\n            setPersons(addedPersons);\r\n            showNotification(`${newPerson.name} was added to the number list`, 'passing');\r\n\r\n            return response.data;\r\n        })\r\n        .catch(error => {\r\n            showNotification(error.response.data.message, 'error');\r\n        });\r\n\r\n    return savedPerson;\r\n}\r\n\r\nfunction deletePerson(id, name, showNotification) {\r\n    const data = axios.delete(`/api/persons/${id}`)\r\n        .then(response => {\r\n            showNotification(`${name} was removed from the number list`, 'passing');\r\n            return response.data\r\n        })\r\n        .catch(error => {\r\n            showNotification(error.response.data.message, 'error');\r\n        });\r\n\r\n        return data;\r\n}\r\n\r\nfunction updateNumber(foundPerson, persons, setPersons, showNotification) {\r\n    const data = axios.put(`/${foundPerson.id}`, foundPerson)\r\n        .then(response => {\r\n            const concatedPerson = [];\r\n            concatedPerson.push(foundPerson);\r\n            const newPersonList = persons.concat(concatedPerson);\r\n            setPersons(newPersonList);\r\n            showNotification(`${foundPerson.name} number was updated`, 'passing');\r\n\r\n            return response.data\r\n        })\r\n        .catch(error => {\r\n            if (error.response.status === 404){\r\n                showNotification(`${foundPerson.name} has already been removed from the list`, 'error');\r\n            }\r\n        });\r\n\r\n        return data;\r\n}\r\n\r\nexport default {\r\n    populatePersonListState: populatePersonListState,\r\n    newPerson: newPerson,\r\n    deletePerson: deletePerson,\r\n    updateNumber: updateNumber\r\n};\r\n\r\n","import React from 'react';\r\n\r\nfunction showNotification(notificationType) {\r\n    const passingNotification = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }\r\n\r\n    const errorNotification = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }\r\n\r\n    if (notificationType === 'passing') {\r\n        return passingNotification;\r\n    }\r\n\r\n    if (notificationType === 'error') {\r\n        return errorNotification;\r\n    }\r\n\r\n    return {};\r\n}\r\n\r\nexport default function Notification(props) {\r\n    return (\r\n        <div style={showNotification(props.notificationType)}>\r\n            {props.notificationMessage}\r\n        </div>\r\n    );\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\nimport PersonContainer from './components/PersonContainer';\r\nimport SearchBar from './components/SearchBar';\r\nimport PersonForm from './components/PersonForm';\r\nimport APICalls from './APICalls';\r\nimport Notification from './components/Notification';\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]);\r\n  const [ newName, setNewName ] = useState('');\r\n  const [ newNumber, setNewNumber ] = useState('');\r\n  const [ search, setSearch ] = useState('');\r\n  const [notificationMessage, setNotificationMessage] = useState('');\r\n  const [notificationType, setNotificationType] = useState('');\r\n\r\n  useEffect(() => {\r\n    APICalls.populatePersonListState(setPersons, showNotification);\r\n  }, [])\r\n\r\n  function addPerson(event) {\r\n    event.preventDefault();\r\n\r\n    let foundPersons = [];\r\n    foundPersons = persons.filter(element => {\r\n      if (element.name === newName) {\r\n        return newName;\r\n      }\r\n    });\r\n\r\n    if (foundPersons.length === 0) {\r\n      const person = {name: newName, number: newNumber};\r\n      const savedPerson = APICalls.newPerson(person, persons, setPersons, showNotification);\r\n    } else {\r\n      const doChange = window.confirm(`${newName} is already added to phonebook, do you want to replace the old number with a new one?`);\r\n      if (doChange) {\r\n        const foundPerson = {\r\n          ...foundPersons[0],\r\n          number: newNumber\r\n        }\r\n\r\n        const newPersonList =[...persons];\r\n        for (let i=0; i<newPersonList.length; i++) {\r\n          if (newPersonList[i].name === newName) {\r\n            newPersonList.splice(i, 1);\r\n          }\r\n        }\r\n\r\n        APICalls.updateNumber(foundPerson, newPersonList, setPersons, showNotification);\r\n      }\r\n    }\r\n  }\r\n\r\n  function deletePerson(id, name) {\r\n    const doDelete = window.confirm(`Do you want to remove ${name}?`);\r\n\r\n    if (doDelete) {\r\n      APICalls.deletePerson(id, name, showNotification);\r\n      \r\n\r\n      const newPersonList = [...persons];\r\n      for (let i=0; i<newPersonList.length; i++) {\r\n        if (newPersonList[i].id === id) {\r\n          newPersonList.splice(i, 1);\r\n          setPersons(newPersonList);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function showNotification(message, type) {\r\n    setNotificationMessage(message);\r\n    setNotificationType(type);\r\n\r\n    setTimeout(()=> { \r\n      setNotificationType(''); \r\n      setNotificationMessage('');\r\n    }, 5000);\r\n  }\r\n\r\n  // HANDLERS\r\n  function handleNameChange(event) {\r\n    setNewName(event.target.value);\r\n  }\r\n\r\n  function handleNumberChange(event) {\r\n    setNewNumber(event.target.value);\r\n  }\r\n\r\n  function handleSearchChange(event) {\r\n    setSearch(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notificationType={notificationType} notificationMessage={notificationMessage}/>\r\n      <SearchBar value={search} handleSearchChange={handleSearchChange}/>\r\n      <h2>Add a new</h2>\r\n      <PersonForm \r\n        handleNameChange={handleNameChange} \r\n        handleNumberChange={handleNumberChange} \r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        addPerson={addPerson}\r\n        />\r\n      <h2>Numbers</h2>\r\n        <PersonContainer persons={persons} searchString={search} deletePerson={deletePerson}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}